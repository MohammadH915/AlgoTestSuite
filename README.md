# AlgoTestSuite

This repository contains a setup to automatically test algorithms written in C++ or Python by comparing the output of a code you want to test (`main`) with the output of a correct reference code (`accept`) for randomly generated test inputs via `test_generator`. The testing runs in a loop until the outputs differ.

## Directory Structure

```
/AlgoTestSuite/
├── main.cpp / main.py               # The code you want to test (can be C++ or Python)
├── accept.cpp / accept.py           # The reference/accepted/correct code to compare results against (can be C++ or Python)
├── test_generator.cpp / test_generator.py  # Code that generates inputs to feed both `main` and `accept` (can be C++ or Python)
├── run_tests.sh                     # The bash script to automate the testing
└── /tests/                          # Folder that stores temporary test files and outputs
    ├── test_input.txt               # Input generated by `test_generator`
    ├── main_output.txt              # Output produced by `main`
    └── accept_output.txt            # Output produced by `accept`
```

## Prerequisites

1. **C++:**
   - Make sure you have a working C++ compiler (`g++`) installed and accessible via the command line.

2. **Python:**
   - Ensure that you have Python 3 installed.
   - `python3` should be the command to invoke Python 3.x.

## How to Use

### Writing the Code

1. **Write your code to test**:
   - Implement the code you're trying to test in C++ (`main.cpp`) or Python (`main.py`).

2. **Reference Implementation**:
   - Implement the correct/accepted version of the code in C++ (`accept.cpp`) or Python (`accept.py`).

3. **Test Case Generator**:
   - Create a test case generator that generates random inputs or specific inputs you want to stress test.
   - This can also be implemented in either C++ (`test_generator.cpp`) or Python (`test_generator.py`) based on your preference.

### Running the Tests

1. **Make the Bash Script Executable**:
   Run the following command to grant execution permissions to the script.

   ```bash
   chmod +x run_tests.sh
   ```

2. **Execute the Testing Script**:
   To start the testing process, provide the `main`, `accept`, and `test_generator` file paths (and extensions) as arguments to `run_tests.sh`.

   - **C++ Example**:
     
     ```bash
     ./run_tests.sh main.cpp accept.cpp test_generator.cpp
     ```

   - **Python Example**:
     
     ```bash
     ./run_tests.sh main.py accept.py test_generator.py
     ```

   - **Mixing C++ and Python**:
      You can mix and match C++ and Python files. For example:

     ```bash
     ./run_tests.sh main.cpp accept.py test_generator.py
     ```
   
   The script will detect whether the files are C++ or Python based on file extensions (`.cpp` vs `.py`) and handle compilation and execution accordingly.

### What the Script Does

1. **Compiling (if C++)**:
   - If you provide `.cpp` files for `main`, `accept`, or `test_generator`, the script will use `g++` to compile them.

2. **Executing the Files**:
   - The script will generate input using `test_generator` and then:
     1. Run `main` with the generated input.
     2. Run `accept` with the generated input.
     3. Compare the outputs from `main` and `accept`.

3. **Stopping on Failure**:
   - The test cases will stop processing if the outputs differ, and the script will display:
     - The **input** that caused the problem.
     - The **output of `main`** and the **output of `accept`** for analysis.

4. **Continuous Loop**:
   - The script continues generating and testing new inputs until an error is found or you stop it manually (via `Ctrl + C`).

### Sample Output

1. **Success**:
   
   If the outputs match, you will see:

   ```
   Starting test checks...
   Generating test case #1...
   Test case #1 passed. Continuing to next test...
   Generating test case #2...
   Test case #2 passed. Continuing to next test...
   ...
   ```

2. **Failure**:

   If a mismatch occurs, the script stops and provides details of the failure:

   ```
   Starting test checks...
   Generating test case #3...
   Outputs differ on test case #3. Stopping test.
   Input causing the difference:
   42

   Main output:
   84

   Accept output:
   42
   ```

   **Explanation**: The input `42` caused different outputs between `main` and `accept`. `main` printed `84`, whereas `accept` (the correct implementation) printed `42`.

## Example C++ Files

### `main.cpp` (Code to Test):

```cpp
#include <iostream>
using namespace std;

int main() {
    int n;
    cin >> n;
    cout << n * 2 << endl;  // Incorrect logic (intentionally)
}
```

### `accept.cpp` (Correct Implementation):

```cpp
#include <iostream>
using namespace std;

int main() {
    int n;
    cin >> n;
    cout << n << endl;  // Correct logic
}
```

### `test_generator.cpp` (Test Input Generator):

```cpp
#include <iostream>
#include <cstdlib>
#include <ctime>
using namespace std;

int main() {
    srand(time(NULL));
    int n = rand() % 100;  // Random number from 0 to 99
    cout << n << endl;
    return 0;
}
```

## Example Python Files

### `main.py` (Code to Test):
```python
# Incorrect implementation
def main():
    n = int(input())
    print(n * 2)  # Incorrect logic

if __name__ == "__main__":
    main()
```

### `accept.py` (Correct Implementation):
```python
# Correct implementation
def main():
    n = int(input())
    print(n)  # Correct logic

if __name__ == "__main__":
    main()
```

### `test_generator.py` (Test Input Generator):
```python
# Input generator for tests
import random

def generate_test():
    print(random.randint(0, 99))  # Random number from 0 to 99

if __name__ == "__main__":
    generate_test()
```

## Customizing the Number of Test Runs

In its current version, the script runs indefinitely. You can modify it if you want to run a fixed number of test cases by replacing the `while true; do` loop in `run_tests.sh` with a `for` loop.

For example, to run exactly 100 test cases:

```bash
for i in {1..100}; do
    # (rest of the script as before)
done
```

## Conclusion

By using this repository, you can easily test and validate the correctness of your algorithm implementations in C++ or Python against a known, accepted solution. It automatically generates test inputs using your `test_generator`, compares output from the two implementations, and helps you catch errors more quickly by stopping on the first test failure.
